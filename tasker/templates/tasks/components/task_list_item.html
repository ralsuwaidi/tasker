<li class="list-group-item d-flex justify-content-between align-items-start">
    <div class="ms-2 me-auto">
        <div class="fw-bold mb-2"><a href="{% url 'tasks:detail' task.id %}">{{ task.name }}</a></div>
        <div>{{ task.description|truncatechars:50 }}</div>
        {% if task.responsible %}
            <span class="badge bg-secondary"><small>{{task.responsible}}</small></span>
        {% endif %}
        <span class="badge bg-secondary"><small>{{task.get_task_stage_display}}</small></span>
        {% if task.time_spent > 0 %}
        <span class="badge bg-secondary"><small>{{task.time_spent}} hours</small></span>
        {% endif %}
        {% if task.task_stage != "CO" %}
            {% if task.deadline %}
            {% if task.is_late %}
            <p class="text-danger"><small>{{task.deadline}}</small></p>

            {% else %}
                <p class="text-muted"><small>{{task.deadline}}</small></p>
                {% endif %}
            {% endif %}
        {% endif %}

        <div>
            <a href="{% url 'tasks:update' task.id %}" class="pr-2"><i class="bi bi-pencil-square "></i></a>
            <a href="{% url 'tasks:delete' task.id %}" class="px-2"><i class="bi bi-trash3 text-danger"></i></a>
            {% if hidden %}
                <i class="bi bi-incognito"></i>
            {% endif %}

        </div>

    </div>
    <div>
        <div class="justify-right">
            {% if task.update_set.count > 0 %}
            <span class="badge bg-primary rounded-pill ">
                {{ task.update_set.count}}
            </span>
            {% endif %}
        </div>
    </div>
</li>